---
template: SinglePost
title: テスト駆動開発(TDD) 第7章～第9章
status: Published
date: 2019-06-15T11:45:13.135Z
excerpt: TDD
categories:
  - category: Books
meta: {}
---
## 疑念をテストに翻訳する。
実装中に「これをしたらどうなるのか」という疑問がわいたら、すぐにそれをテストコードに反映する。  
テストに失敗したらとりあえず、まずまずのやり方で実装して無理やりテストを通す。理想の設計は必要な時にすればよい。  
また、ここではValueObjectの扱いについても書いてあった。  
継承によって実装した２つのValueObjectはそれぞれが違う存在でなくてはならない。そのため、Objectの比較をしたときに等しいと出てしまうとValueObjectの価値というものが分別されなくなってしまうので破綻してしまう。

## 実装を隠す
サブクラスに似通った処理がある場合Factory Methodを使うように変更したい。  
利用者側からサブクラスのクラス名を排除し、抽象的な存在の親クラスに置き換えることで**ポリモーフィズム**を実現する。  
※ソースコードで言うと、
```
new Dollar(5)
```
のようにサブクラスが見えているのがいけない。そこで、
```
Money.dollar(5)
```
のように抽象的なものにサブクラスが存在するということが隠されるのがよい。
## 歩幅の調整
TDDでは常に微調整を行う。頭では最終的にこうなるだろうと思っていてもいきなりそこへ飛ぶのではなく、そうなる過程(ステップ)を細かく踏んでいく。
> TDDとは、あちらへ少し、こちらへ少しといった感じで舵を取るプロセスだ。正しい歩幅などというものは、未来永劫に存在しない。

## まとめ
- 気になるテストができたら、すぐにテストコードに反映する。
  - そのテストが失敗したら、一旦まずまずの実装でよいのでグリーンに持っていく。あとで設計を考えて修正する。あとになってもTDDではテストコードがあるので可能になる。
- テストコードではなるべくサブクラス(具体的な実装)は隠すようにする。
- 時にはいきなり飛ばすのではなく、そこに行きつく過程を踏むことも大事。

## 所感
あとで
