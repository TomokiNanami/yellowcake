---
template: SinglePost
title: テスト駆動開発(TDD) 前書き
status: Published
date: 2019-06-08T12:04:09.695Z
excerpt: TDD
categories:
  - category: Books
meta: {}
---
[テスト駆動開発](https://www.amazon.co.jp/%E3%83%86%E3%82%B9%E3%83%88%E9%A7%86%E5%8B%95%E9%96%8B%E7%99%BA-Kent-Beck/dp/4274217884)の要約をしていく。  
※実際におこなったコードは長くなるので載せない。

## テスト駆動開発のゴール
**動作する綺麗なコード**  
- 「綺麗なコードを書こう。」
- 「綺麗なコードに修正していこう。」

これらには不安が付きまとう。  
綺麗なコードが書けるかだけでなく、**そもそも動作するだろうかという不安。**  
そこで、**不安を抱えて考え込んでしまうことをやめて、代わりに自動化されたテストによって開発を楽に効率良く進めよう**という開発手法。  
- 自動化されたテストが失敗したときのみ新しいコードを書く
- 重複を排除する

この２つがテスト駆動開発のルールだが、次のような良い影響をもたらす。
- 疎結合な設計をするようになる。その方がテストしやすいからだ。
- 自律的にテストを書くようになる。ほかの人が書くのを待っていられないからだ。

またこの２つのルールは作業の順序にもなる。
- レッド：コンパイルも通らないテストを書く
- グリーン：そのテストを迅速に通すためのコードを書く。この時は汚くて良い。
- リファクタリング：テストを実行しながら全ての重複を削除していく

## テスト駆動開発は不安をコントロールする
- 不安はためらいを生む
  - このコードをいじったらどうなるのかを感がると手が止まる。
- 不安はイライラさせる。
  - 既存のコードをリファクタリングしたときに「影響はないか」をいちいち気にする必要がある。

テスト駆動開発におけるテストは、一度通ればそこから先はずっとコードが動作していることがわかるようになる。

## テスト駆動開発のリズム
1. テストを１つ書く
2. 全てのテストを走らせ、新しいテストの失敗を確認する。
3. 小さな変更を行う
4. 全てのテストを走らせ、全て成功することを確認する。
5. リファクタリングをおこなって重複を除去する。

## まとめ
前書きでは、
- テスト駆動開発のゴール
- ルール
- おおまかな作業順序

の認識を合わせる章であった。

## 所感
> テスト駆動開発は不安をコントロールする

　ここはとても共感した。今までの実務では運用保守が多く、追加実装やリファクタリングが多かった。実際いデグレも多く起こしてきた。次第にコードを触るとき「ここをいじったらどこが爆発するだろう」と思って手が震えたり、リファクタリングで影響範囲をいちいち調べるのは辛く、ストレスがたまった。  
　テスト駆動開発はてっきり「品質担保」が目的かと思っていたがそれがゴールではなく、**「開発者自身の不安を取り除いてプログラミングを楽に効率良く楽しむ」を目的にその過程で品質が上がっていく**のだと理解した。
